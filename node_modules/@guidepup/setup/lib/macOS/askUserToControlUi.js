"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.askUserToControlUi = void 0;
const inquirer_1 = require("inquirer");
const errors_1 = require("../errors");
const consent = [
    {
        name: "confirm",
        type: "confirm",
        message: "Consent to temporary UI control?",
    },
];
const credentials = [
    {
        name: "username",
        type: "input",
        message: "Admin username",
    },
    {
        name: "password",
        type: "password",
        message: "Admin password",
    },
];
async function askUserToControlUi() {
    let consentStatus;
    try {
        consentStatus = await (0, inquirer_1.prompt)(consent);
    }
    catch (e) {
        throw new Error(`${errors_1.ERR_MACOS_UI_PROMPT_FAILURE}\n\n${e.message}`);
    }
    if (!consentStatus.confirm) {
        throw new Error(errors_1.ERR_MACOS_UI_CONTROL_NOT_CONSENTED);
    }
    try {
        return await (0, inquirer_1.prompt)(credentials);
    }
    catch (e) {
        throw new Error(`${errors_1.ERR_MACOS_UI_PROMPT_FAILURE}\n\n${e.message}`);
    }
}
exports.askUserToControlUi = askUserToControlUi;
